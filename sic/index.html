<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ฏ ุญุงุณุจุฉ Medovik ุงูุนูููุฉ ุงูุดุงููุฉ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>๐ฏ ุญุงุณุจุฉ Medovik ุงูุนูููุฉ ุงูุดุงููุฉ</h1>
            <p class="subtitle">ุงูุฃุฏุงุฉ ุงููุชูุงููุฉ ูุชุญูููุ ูุญุงูุงุฉุ ูุชุฎุตูุต ูุตูุงุช ุงูููุฏูููู ุจุฏูุฉ ุนูููุฉ.</p>
        </header>

        <div class="tabs-container">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="analyzer">๐ ุงููุญูู ุงูุนููู</button>
                <button class="tab-btn" data-tab="advisor">๐ฌ ุงููุณุชุดุงุฑ ุงูุนููู</button>
                <button class="tab-btn" data-tab="method">๐ ุงูุทุฑููุฉ ูุงููุญุงูุงุฉ</button>
                <button class="tab-btn" data-tab="tempering">๐งช ุญุงุณุจุฉ ุงูุชูุจุฑูุฌ</button>
                <button class="tab-btn" data-tab="scaling">๐ ุญุงุณุจุฉ ุงูุทุจูุงุช</button>
                <button class="tab-btn" data-tab="filling">๐ฐ ุญุงุณุจุฉ ุงูุญุดู ุงูุฐููุฉ</button>
                <button class="tab-btn" data-tab="troubleshooting">๐ง ูุณุชูุดู ุงููุดุงูู</button>
                <button class="tab-btn" data-tab="library">๐พ ููุชุจุฉ ุงููุตูุงุช</button>
            </div>

            <div class="tab-content">
                <!-- ================= TAB 1: ุงููุญูู ุงูุนููู ================= -->
                <div class="tab-panel active" id="analyzer">
                    <h2>๐ ุงููุญูู ุงูุนููู ูููุตูุฉ</h2>
                    <div class="text-parser-section">
                        <h3>๐ ูุญูู ุงููุตูุงุช ุงูุณุฑูุน (ุงูุณุฎ ูุงูุตู)</h3>
                        <textarea id="recipe-text-input" placeholder="ูุซุงู: 500 ุฌุฑุงู ุฏูููุ 120 ุฌุฑุงู ุฒุจุฏุฉุ 3 ุจูุถุงุช..." rows="4"></textarea>
                        <div class="button-group">
                            <button class="btn btn-primary" id="parse-text-btn">๐ ุชุญููู ุงููุต</button>
                        </div>
                    </div>
                    
                    <h3>ููุงุฏูุฑ ุงููุตูุฉ (ุฌุฑุงู)</h3>
                    <div class="input-grid">
                        <div class="input-group"><label for="flour">ุฏููู:</label><input type="number" id="flour" value="500" min="0"></div>
                        <div class="input-group"><label for="butter">ุฒุจุฏุฉ:</label><input type="number" id="butter" value="120" min="0"></div>
                        <div class="input-group"><label for="sugar">ุณูุฑ:</label><input type="number" id="sugar" value="200" min="0"></div>
                        <div class="input-group"><label for="honey">ุนุณู:</label><input type="number" id="honey" value="100" min="0"></div>
                        <div class="input-group"><label for="eggs">ุจูุถ:</label><input type="number" id="eggs" value="95" min="0"></div>
                        <div class="input-group"><label for="soda">ุตูุฏุง ุงูุฎุจุฒ:</label><input type="number" id="soda" value="5.5" min="0" step="0.1"></div>
                    </div>
                    <div class="button-group">
                        <button class="btn btn-success" id="analyze-btn">๐งช ุชุญููู ุงููุตูุฉ</button>
                        <button class="btn btn-secondary" id="reset-btn">๐ ุฅุนุงุฏุฉ ููููู ุงููุซุงููุฉ</button>
                    </div>

                    <div id="analysis-results-wrapper"></div>
                </div>

                <!-- ================= TAB 2: ุงููุณุชุดุงุฑ ุงูุนููู ================= -->
                <div class="tab-panel" id="advisor">
                    <h2>๐ฌ ุงููุณุชุดุงุฑ ุงูุนููู ุงูููุตู</h2>
                    <div class="alert alert-info">ุงุญุตู ุนูู ุชุญููู ุชูุตููู ูุชุฃุซูุฑ ูู ูููู ุนูู ูุตูุชูุ ูุน ุญููู ุนูููุฉ ููุชุฑุญุฉ ูุชุญููู ุงูุชูุงุฒู ุงููุซุงูู.</div>
                    <div id="advisor-report-container"><p>ูู ุจุชุญููู ูุตูุชู ุฃููุงู ูู ุชุจููุจ "ุงููุญูู ุงูุนููู" ูุนุฑุถ ุงูุชูุฑูุฑ.</p></div>
                </div>

                <!-- ================= TAB 3: ุงูุทุฑููุฉ ูุงููุญุงูุงุฉ ================= -->
                <div class="tab-panel" id="method">
                    <h2>๐ ุงูุทุฑููุฉ ูุงููุญุงูุงุฉ</h2>
                    <div class="toggle-buttons">
                        <button class="btn-toggle active" data-method="scientific">๐ฌ ุงูุทุฑููุฉ ุงูุนูููุฉ (ูุณุชุญุณู)</button>
                        <button class="btn-toggle" data-method="all-in-one">โก ุทุฑููุฉ ุงููู ุฏูุนุฉ ูุงุญุฏุฉ (ูููุญุชุฑููู)</button>
                    </div>
                    <div id="method-display-container"></div>
                    <div class="oven-simulator-section">
                        <h3>๐ฅ ูุญุงูุงุฉ ุชุฃุซูุฑ ุงููุฑู</h3>
                        <div class="input-grid small">
                            <div class="input-group"><label for="oven-temp">ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุงููุฑู (ยฐC):</label><input type="number" id="oven-temp" value="180" min="150" max="220"></div>
                            <div class="input-group"><label for="baking-time">ูุฏุฉ ุงูุฎุจุฒ (ุฏูุงุฆู):</label><input type="number" id="baking-time" value="7" min="4" max="15"></div>
                        </div>
                        <button class="btn btn-primary" id="simulate-baking-btn">๐ฅ ูุญุงูุงุฉ ุงูุฎุจุฒ</button>
                        <div id="baking-simulation-results" class="result-box" style="display: none;"></div>
                    </div>
                </div>
                
                <!-- ================= TAB 4: ุญุงุณุจุฉ ุงูุชูุจุฑูุฌ ================= -->
                <div class="tab-panel" id="tempering">
                    <h2>๐งช ุญุงุณุจุฉ ุงูุชูุจุฑูุฌ ุงูุฏูููุฉ</h2>
                    <div class="alert alert-info">ุชุณุชุฎุฏู ูุฐู ุงูุญุงุณุจุฉ ุงููุนุงุฏูุงุช ุงูููุฒูุงุฆูุฉ ุงูุตุญูุญุฉ (ูุน ูุฑุงุนุงุฉ ุงูุณุนุฉ ุงูุญุฑุงุฑูุฉ ุงููุฎุชููุฉ) ูุถูุงู ุนุฏู ุชุฎุซุฑ ุงูุจูุถ.</div>
                    <div class="input-grid">
                        <div class="input-group">
                            <label for="tempering-egg-mass">ูุชูุฉ ุงูุจูุถ (ุฌู):</label>
                            <input type="number" id="tempering-egg-mass" value="95" min="1">
                        </div>
                        <div class="input-group">
                            <label for="tempering-egg-temp">ุญุฑุงุฑุฉ ุงูุจูุถ (ยฐC):</label>
                            <input type="number" id="tempering-egg-temp" value="20" min="0" max="30">
                        </div>
                        <div class="input-group">
                            <label for="tempering-liquid-mass">ูุชูุฉ ุงูุฎููุท ุงูุณุงุฎู (ุฌู):</label>
                            <input type="number" id="tempering-liquid-mass" value="425.5" min="1">
                        </div>
                        <div class="input-group">
                            <label for="tempering-liquid-temp">ุญุฑุงุฑุฉ ุงูุฎููุท ุงูุณุงุฎู (ยฐC):</label>
                            <input type="number" id="tempering-liquid-temp" value="85" min="60" max="120">
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="tempering-batch-count">ุนุฏุฏ ุงูุฏูุนุงุช:</label>
                        <select id="tempering-batch-count">
                            <option value="3">3 ุฏูุนุงุช</option>
                            <option value="4">4 ุฏูุนุงุช</option>
                            <option value="5" selected>5 ุฏูุนุงุช (ุงูุฃูุซุฑ ุฃูุงููุง)</option>
                            <option value="6">6 ุฏูุนุงุช</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button class="btn btn-primary" id="calculate-tempering-btn">๐งฎ ุญุณุงุจ ุงูุชูุจุฑูุฌ ุงูุขูู</button>
                        <button class="btn btn-secondary" id="autofill-tempering-btn">๐ ุชุนุจุฆุฉ ูู ุงููุตูุฉ</button>
                    </div>
                    <div id="tempering-results-container"></div>
                </div>

                <!-- ================= TAB 5: ุญุงุณุจุฉ ุงูุทุจูุงุช ================= -->
                <div class="tab-panel" id="scaling">
                    <h2>๐ ุญุงุณุจุฉ ุงูุทุจูุงุช (ุงูุณููููุฌ)</h2>
                    <div class="toggle-buttons" id="scaling-mode-toggle">
                        <button class="btn-toggle active" data-mode="normal">ุงูุญุงุณุจุฉ ุงูุนุงุฏูุฉ</button>
                        <button class="btn-toggle" data-mode="advanced">ุงูุณููููุฌ ุงููุชูุฏู</button>
                        <button class="btn-toggle" data-mode="reverse">ุงูุญุงุณุจุฉ ุงูุนูุณูุฉ</button>
                    </div>
                    <div class="scaling-mode-panel active" data-panel="normal">
                        <h3>ุงูุญุงุณุจุฉ ุงูุนุงุฏูุฉ: ูู ุทุจูุฉ ูููู ุตูุนูุงุ</h3>
                        <div class="pan-shape-selector" data-target="normal"><label><input type="radio" name="pan-shape-normal" value="round" checked> ุฏุงุฆุฑูุฉ</label><label><input type="radio" name="pan-shape-normal" value="rectangle"> ูุณุชุทููุฉ</label></div>
                        <div id="pan-inputs-normal"></div>
                        <div class="input-group"><label for="layer-thickness-normal">ุณูุงูุฉ ุงูุทุจูุฉ (ููู):</label><input type="number" id="layer-thickness-normal" value="3" min="1" max="5" step="0.5"></div>
                        <button class="btn btn-primary" id="calculate-layers-normal-btn">๐ ุญุณุงุจ ุนุฏุฏ ุงูุทุจูุงุช</button>
                    </div>
                    <div class="scaling-mode-panel" data-panel="advanced">
                        <h3>ุงูุณููููุฌ ุงููุชูุฏู: ุชุนุฏูู ุงููุตูุฉ ููุฒู ูุนูู</h3>
                        <div class="input-group"><label for="target-layer-weight">ูุฒู ูู ุทุจูุฉ (ุฌู):</label><input type="number" id="target-layer-weight" value="150" min="50" max="300"></div>
                        <div class="input-group"><label for="target-layer-count">ุนุฏุฏ ุงูุทุจูุงุช ุงููุทููุจ:</label><input type="number" id="target-layer-count" value="8" min="1" max="20"></div>
                        <div class="input-group"><label for="extra-for-crumbs">ูุณุจุฉ ุฒุงุฆุฏุฉ ูููุชุงุช (%):</label><input type="number" id="extra-for-crumbs" value="10" min="0" max="30"></div>
                        <button class="btn btn-primary" id="calculate-scaling-advanced-btn">โ๏ธ ุญุณุงุจ ุงูููุงุฏูุฑ ุงูุฌุฏูุฏุฉ</button>
                    </div>
                    <div class="scaling-mode-panel" data-panel="reverse">
                        <h3>ุงูุญุงุณุจุฉ ุงูุนูุณูุฉ: ูุง ุงูููุงุฏูุฑ ูุนุฏุฏ ุทุจูุงุช ูุนููุ</h3>
                        <div class="pan-shape-selector" data-target="reverse"><label><input type="radio" name="pan-shape-reverse" value="round" checked> ุฏุงุฆุฑูุฉ</label><label><input type="radio" name="pan-shape-reverse" value="rectangle"> ูุณุชุทููุฉ</label></div>
                        <div id="pan-inputs-reverse"></div>
                        <div class="input-group"><label for="target-layers-reverse">ุนุฏุฏ ุงูุทุจูุงุช ุงููุทููุจ:</label><input type="number" id="target-layers-reverse" value="8" min="1" max="20"></div>
                        <div class="input-group"><label for="layer-thickness-reverse">ุณูุงูุฉ ุงูุทุจูุฉ (ููู):</label><input type="number" id="layer-thickness-reverse" value="3" min="1" max="5" step="0.5"></div>
                        <button class="btn btn-primary" id="calculate-scaling-reverse-btn">๐ ุญุณุงุจ ุงูููุงุฏูุฑ</button>
                    </div>
                    <div id="scaling-results-container"></div>
                </div>

                <!-- ================= TAB 6: ุญุงุณุจุฉ ุงูุญุดู ุงูุฐููุฉ (ูุญุฏุซ) ================= -->
                <div class="tab-panel" id="filling">
                    <h2>๐ฐ ุญุงุณุจุฉ ุงูุญุดูุงุช ุงูุฐููุฉ</h2>
                    <div class="alert alert-info">ูุธุงู ูุชุทูุฑ ูุญุณุงุจ ูุชุญููู ุงูุญุดูุงุช ูุน ุจุฑูุชููููุงุช ุชุญุถูุฑ ุนูููุฉ ููุตูุฉ</div>
                    
                    <!-- ุงุฎุชูุงุฑ ููุน ุงูุฅุฏุฎุงู -->
                    <div class="filling-mode-selector">
                        <button class="mode-btn active" data-mode="preset">๐ ูู ุงูููุงูุจ ุงูุฌุงูุฒุฉ</button>
                        <button class="mode-btn" data-mode="custom">โ๏ธ ุฅุฏุฎุงู ูุฎุตุต</button>
                    </div>
                    
                    <!-- ูุถุน ุงูููุงูุจ ุงูุฌุงูุฒุฉ -->
                    <div id="preset-mode" class="filling-mode active">
                        <div class="input-group">
                            <label for="filling-preset-selector">ุงุฎุชุฑ ููุน ุงูุญุดูุฉ:</label>
                            <select id="filling-preset-selector">
                                <option value="">-- ุงุฎุชุฑ ุญุดูุฉ --</option>
                                <optgroup label="ุงูุญุดูุงุช ุงูููุงุณูููุฉ">
                                    <option value="classic-sour-cream">ูุฑููุฉ ุญุงูุถุฉ ููุงุณูููุฉ</option>
                                    <option value="dulce-caramel">ูุฑุงููู ุฏููุณู ุฏู ููุชุดู</option>
                                    <option value="cream-cheese-honey">ุฌุจู ูุฑููู ุจุงูุนุณู ูุงูุฌููุงุชูู</option>
                                    <option value="custard-butter">ูุงุณุชุฑุฏ ุจุงูุฒุจุฏุฉ</option>
                                </optgroup>
                                <optgroup label="ูุตูุงุช ุงูุดูู ุฃุญูุฏ ุดููู">
                                    <option value="ahmed-shawky-caramel">ุฃุญูุฏ ุดููู 1: ูุฑููุฉ ูุฑุงููู ุจุงูุฒุจุฏุฉ</option>
                                    <option value="ahmed-shawky-sugar">ุฃุญูุฏ ุดููู 2: ูุฑููุฉ ุณูุฑ ุฎูููุฉ</option>
                                    <option value="ahmed-shawky-condensed">ุฃุญูุฏ ุดููู 3: ุญููุจ ููุซู ุบูู</option>
                                </optgroup>
                                <optgroup label="ูุตูุงุช ุงูุดูู ุฃุญูุฏ ุนุจุฏ ุงูุณูุงู">
                                    <option value="ahmed-abdelsalam">ุฃุญูุฏ ุนุจุฏ ุงูุณูุงู: ุงูุซูุงุซู ุงูุบูู</option>
                                </optgroup>
                            </select>
                        </div>
                        
                        <!-- ุนุฑุถ ุงูููุงุฏูุฑ ุงููุงุจูุฉ ููุชุนุฏูู -->
                        <div id="preset-ingredients-container"></div>
                        
                        <!-- ุนุฑุถ ุจุฑูุชูููู ุงูุชุญุถูุฑ -->
                        <div id="preparation-protocol-container" style="display:none;"></div>
                        
                        <!-- ุงูุชุญูู ูู ุงูุญูุงูุฉ -->
                        <div class="sweetness-control" style="display:none;">
                            <h4>ุชุนุฏูู ูุณุชูู ุงูุญูุงูุฉ:</h4>
                            <div class="sweetness-adjuster-container">
                                <label for="sweetness-adjuster">ูุณุจุฉ ุชูููู ุงูุญูุงูุฉ:</label>
                                <input type="range" id="sweetness-adjuster" min="0" max="30" value="0" step="5">
                                <span id="sweetness-reduction-value">0%</span>
                            </div>
                            <div class="sweetness-indicator">
                                <div class="sweetness-bar">
                                    <div class="sweetness-fill"></div>
                                </div>
                                <span id="sweetness-level-text">ูุญุณูุจ...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ูุถุน ุงูุฅุฏุฎุงู ุงููุฎุตุต -->
                    <div id="custom-mode" class="filling-mode">
                        <h4>ุฃุฏุฎู ููููุงุช ุงูุญุดูุฉ ุงููุฎุตุตุฉ:</h4>
                        <div class="custom-ingredients-grid">
                            <div class="input-group">
                                <label for="custom-sour-cream">ูุดุทุฉ ุฑุงุฆุจุฉ/ุณููุชุงูุง (ุฌู):</label>
                                <input type="number" id="custom-sour-cream" value="0" min="0">
                            </div>
                            <div class="input-group">
                                <label for="custom-whipping-cream">ูุฑููุฉ ุฎูู (ุฌู):</label>
                                <input type="number" id="custom-whipping-cream" value="0" min="0">
                            </div>
                            <div class="input-group">
                                <label for="custom-cream-cheese">ุฌุจู ูุฑููู (ุฌู):</label>
                                <input type="number" id="custom-cream-cheese" value="0" min="0">
                            </div>
                            <div class="input-group">
                                <label for="custom-condensed-milk">ุญููุจ ููุซู ูุญูู (ุฌู):</label>
                                <input type="number" id="custom-condensed-milk" value="0" min="0">
                            </div>
                            <div class="input-group">
                                <label for="custom-dulce">ุฏููุณู ุฏู ููุชุดู (ุฌู):</label>
                                <input type="number" id="custom-dulce" value="0" min="0">
                            </div>
                            <div class="input-group">
                                <label for="custom-butter">ุฒุจุฏุฉ (ุฌู):</label>
                                <input type="number" id="custom-butter" value="0" min="0">
                            </div>
                            <div class="input-group">
                                <label for="custom-powdered-sugar">ุณูุฑ ุจูุฏุฑุฉ (ุฌู):</label>
                                <input type="number" id="custom-powdered-sugar" value="0" min="0">
                            </div>
                            <div class="input-group">
                                <label for="custom-other">ููููุงุช ุฃุฎุฑู (ุฌู):</label>
                                <input type="number" id="custom-other" value="0" min="0">
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <!-- ูุนุงููุฑ ุงููููุฉ -->
                    <div class="cake-parameters">
                        <h4>ููุงุตูุงุช ุงููููุฉ:</h4>
                        <div class="input-grid">
                            <div class="input-group">
                                <label for="filling-pan-shape">ุดูู ุงูุตูููุฉ:</label>
                                <select id="filling-pan-shape">
                                    <option value="round">ุฏุงุฆุฑูุฉ</option>
                                    <option value="rectangle">ูุณุชุทููุฉ</option>
                                </select>
                            </div>
                        </div>
                        <div id="filling-pan-dimensions"></div>
                        <div class="input-grid small">
                            <div class="input-group">
                                <label for="filling-layers">ุนุฏุฏ ุงูุทุจูุงุช:</label>
                                <input type="number" id="filling-layers" value="8" min="2" max="20">
                            </div>
                            <div class="input-group">
                                <label for="filling-thickness">ุณููู ุทุจูุฉ ุงูุญุดู (ูู):</label>
                                <input type="number" id="filling-thickness" value="5" min="2" max="10">
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-primary" id="calculate-filling-btn">โ๏ธ ุงุญุณุจ ุงููููุงุช ูุญูู ุงูุญุดูุฉ</button>
                    </div>
                    
                    <!-- ุนุฑุถ ุงููุชุงุฆุฌ -->
                    <div id="filling-results-container"></div>
                </div>

                <!-- ================= TAB 7: ูุณุชูุดู ุงููุดุงูู ================= -->
                <div class="tab-panel" id="troubleshooting">
                    <h2>๐ง ูุณุชูุดู ุงููุดุงูู ูุฅุตูุงุญูุง</h2>
                    <div id="troubleshooting-wizard-container"></div>
                </div>
                
                <!-- ================= TAB 8: ููุชุจุฉ ุงููุตูุงุช ================= -->
                <div class="tab-panel" id="library">
                    <h2>๐พ ููุชุจุฉ ุงููุตูุงุช</h2>
                    <div class="library-controls">
                        <input type="text" id="recipe-name-input" placeholder="ุฃุฏุฎู ุงุณููุง ูููุตูุฉ ุงูุญุงููุฉ...">
                        <button class="btn btn-success" id="save-recipe-btn">๐พ ุญูุธ ุงููุตูุฉ</button>
                    </div>
                    <div id="recipe-library-container"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="core.js" defer></script>
    <script src="ui.js" defer></script>
    <script src="main.js" defer></script>
</body>
</html>